### 项目起源

我在之前的公司中独立负责过一个**海报图片编辑器**的开发，它的定位是一个 ToB 的媒体采编附属产品，主要应用于快速生产标准化新闻事件类传播图。

![](../images/2023-7-17-1689585503882.png)

在此之前我也体验过一些在线海报编辑器，而领导的要求是要**对标稿定设计**，于是我便开始了对稿定的深度体验，慢慢地发现稿定在许多方面确实做到了业界较高的水平。

当时我在公司做的都是些普通零散的项目需求，觉得没意思又耗时间，相比之下这个项目则更有挑战性，所以即使在**没有产品、没有UI、研发只有我1人**的情况下，还是挤出时间独自研发。

而随着功能的完善，项目细节的不断深入，开发难度超过了我最初预期，想要实现功能丰富的编辑器并不容易，不仅需要良好的coding基础，越是深入也越需要更多专业知识(如数学与图形学等)，有许多细节问题直至今天都在困扰着我，以我个人浅薄的技术能力一时间总是无法完美解决。

>当时公司整体都是 Vue2 技术栈的，还没有任何一个 Vue3 项目，于是一开始出于惯性我也用 Vue2 搭建项目，后来感觉这个项目和后台系统耦合不大，于是又用 Vite2 + Vue3 技术栈重构了。

后来，从前端 **html2canvas** 插件到服务端 **puppeteer** 出图方案，从手写拖拽缩放功能到采用成熟的 **moveable** 第三方库代理操作，从手动拉建模板到 **PSD 解析**模板，整个项目在三个月左右的时间里算是大致成型。

不过，项目在公司内的进展并不顺利，一方面产品无法把握项目的规划，提出的需求不切实际；另一方面UI介入后我又要花费时间在界面修改上，改了一版又一版，而更多的细节和体验问题也不断暴露出来，令我应接不暇。

于是我开始将项目代码独立了出来，在自己的服务器上部署了我最初仿造稿定设计的一版，自己规划接下来要做的功能、优化与迭代，也是在那时，我在掘金社区发布了一篇总结类的文章，讲述了这段研发历程，得到了不少关注和鼓励，这也让我坚定了将项目开源出来的想法。

-----

这个项目没有什么伟大的愿景，只是当作一件有意思的事情，开源则是为了自己付出的时间与热爱能让更多人受益。
  
如果你也对开发图片编辑器感兴趣，欢迎一起共建项目！

或许你在工作中有类似的需求，希望这个项目能给到你一些微薄帮助！

目前本项目也还在迭代中，有很多的不足，我也是一边学习一边成长。开源不易，希望看到这里的你可以给本项目点个 **Star** 支持一下~


**Github 仓库地址: [ palxiao/poster-design ](https://github.com/palxiao/poster-design)**


<img style="display: inline-block;" src="https://img.shields.io/github/forks/palxiao/poster-design?style=social" />
<img style="display: inline-block;" src="https://img.shields.io/github/stars/palxiao/poster-design?style=social" />

-----

[![Star History Chart](https://api.star-history.com/svg?repos=palxiao/poster-design&type=Date)](https://star-history.com/#palxiao/poster-design&Date)

### 迭代计划

#### Feature:

- [ ] P1: 文字特效属性编辑面板开发
- [ ] P1：字体抽取功能
- [ ] P1：PSD 解析重构（涉及基础库更换）
- [ ] 支持多页面功能，拼接下载
- [ ] 支持形状绘制
- [x] PSD 模板支持上传（目前把Github当作图床测试，无法下载）
- [x] 增加在线抠图
- [x] Todo: 恢复前端出图，使用在保存封面中
- [ ] Todo: 键盘移位需要防抖入栈
- [ ] Todo: 大多数字体操作项未入栈
- [ ] P1: 字体选择记录最近选择选项在顶部
- [ ] 未修改的作品不重复截图（Bug: history存在问题）
- [ ] Todo: 图片懒加载可改为element自带(低优先级)
- [ ] 形状(贴图)等单独调整宽高支持拖动

#### Bugs:

- [ ] 瀑布流的实现排列有点问题
- [ ] 位置面板不能手动输入负值
- [ ] 组合与旋转缩放bug
- [ ] 组合会导致旋转丢失
- [ ] 文字末尾折行（未知问题
- [ ] 模板文字拖动缩小极限值有问题
- [x] 单独绘制svg会出现不显示的情况
- [x] P0: 文字超出画布往上顶
- [ ] 图层显示隐藏（基础功能已有，但可能存在点问题
- [ ] 优化draw页面加载的文件
- [x] 实现透明像素穿透（目前体验还较差
- [ ] 素材点选体验优化，增大开始响应拖动的距离
- [ ] 组合重组、组合内解锁移动
- [ ] 鼠标圈选多个同时缩放
- [ ] 旋转角度数字显示
- [x] 颜色选择器
- [ ] 背景图无法检测是否加载完毕，考虑应该将设置背景作为独立事件

#### Ideas:

- [ ] Gif 生成研究
- [ ] 文字路径变形研究
- [ ] Electron客户端版本